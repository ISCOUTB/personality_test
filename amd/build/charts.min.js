define(["core/chartjs"],(function(t){return{init:function(e,i,n){var r={mbti:["#005B9A","#FF8200","#FFB600","#00B5E2","#78BE20","#2C5234","#652C8F","#91268F","#D0006F","#AA182C","#8B0304","#E35205","#385CAD","#0077C8","#00263A","#00A9B7"],introversion:["#005B9A","#FF8200"],sensacion:["#00B5E2","#FFB600"],pensamiento:["#78BE20","#652C8F"],juicio:["#AA182C","#0077C8"]};function a(e,i,r,a,o,s){var d=document.getElementById(e);if(d){try{d.style.maxHeight="320px",d.parentNode&&d.parentNode.style&&(d.parentNode.style.maxHeight="320px",d.parentNode.style.position="relative")}catch(x){}if(d=d.getContext("2d"),!a||!a.length||0===a[0]&&0===a[1])return void(document.getElementById(e).parentNode.innerHTML='<div class="alert alert-info text-center" style="margin-top: 10px;">'+n.sin_datos_estudiantes+"</div>");var l=Math.max.apply(null,a),c=Math.ceil(1.1*l);if(!s){var p=Array.isArray(r)&&r.some((function(t){return(t||"").length>12})),u=window.matchMedia&&window.matchMedia("(max-width: 576px)").matches;s=u&&p?"y":"x"}var g="y"===s?"x":"y",h="y"===s?"y":"x";function f(t,e){var i=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),r=parseInt(t.substring(5,7),16);return i=(i=parseInt(i*(100+e)/100))<255?i:255,n=(n=parseInt(n*(100+e)/100))<255?n:255,r=(r=parseInt(r*(100+e)/100))<255?r:255,i=Math.max(0,i),n=Math.max(0,n),r=Math.max(0,r),"#"+(1==i.toString(16).length?"0"+i.toString(16):i.toString(16))+(1==n.toString(16).length?"0"+n.toString(16):n.toString(16))+(1==r.toString(16).length?"0"+r.toString(16):r.toString(16))}for(var b=[],m=[],v=[],y=0;y<o.length;y++)b.push(f(o[y],-20)),m.push(f(o[y],10)),v.push(f(o[y],-30));new t(d,{type:"bar",data:{labels:r,datasets:[{label:n.num_estudiantes_header,data:a,backgroundColor:o,borderColor:b,borderWidth:1,borderRadius:3,hoverBackgroundColor:m,hoverBorderColor:v,barPercentage:.6,categoryPercentage:.8}]},options:{responsive:!0,maintainAspectRatio:!0,indexAxis:s,animation:{duration:1500,easing:"easeOutQuart"},layout:{padding:{top:5,right:10,bottom:5,left:10}},scales:(obj={},obj[g]={beginAtZero:!0,ticks:{stepSize:1,precision:0,font:{size:11}},max:c,grid:{color:"rgba(0, 43, 73, 0.05)",lineWidth:1}},obj[h]={grid:{display:!1},ticks:{font:{size:11}}},obj),plugins:{title:{display:!0,text:i,font:{family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:14,weight:"bold"},padding:{top:10,bottom:20}},legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 43, 73, 0.8)",titleFont:{size:13},bodyFont:{size:13},padding:10,cornerRadius:5,callbacks:{label:function(t){var e="y"===s?t.parsed.x:t.parsed.y;return n.num_estudiantes_header+": "+e},title:function(t){return t[0].label}}}}}})}}!function(){var i=document.getElementById("mbtiChart");if(i){i=i.getContext("2d");var a=[],o=[],s=[],d=0;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){console.error("Error al analizar mbtiData:",t)}if(Object.keys(e).forEach((function(t){e[t]>0&&(a.push(t),o.push(e[t]),s.push(r.mbti[d%r.mbti.length]),d++)})),0===a.length)return void(document.getElementById("mbtiChart").parentNode.innerHTML='<div class="alert alert-info text-center" style="margin-top: 20px;">'+n.sin_datos_estudiantes+"</div>");new t(i,{type:"pie",data:{labels:a,datasets:[{data:o,backgroundColor:s,borderColor:"#ffffff",borderWidth:1,hoverBorderWidth:2,hoverBorderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{title:{display:!0,text:n.titulo_distribucion_mbti,font:{family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:14,weight:"bold"},padding:{top:10,bottom:20}},legend:{position:"top",labels:{font:{family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12},padding:15}},tooltip:{backgroundColor:"rgba(0, 43, 73, 0.8)",titleFont:{size:13},bodyFont:{size:13},padding:10,cornerRadius:5,callbacks:{label:function(t){var e=t.label||"";if(e&&(e+=": "),null!==t.parsed){var i=t.chart.data.datasets[0].data.reduce((function(t,e){return t+e}),0),n=Math.round(t.parsed/i*100);e+=t.parsed+" ("+n+"%)"}return e}}}}}})}}(),a("generalTrendChart",n.introversion_extroversion,[n.Introvertido,n.Extrovertido],[i.Introvertido||0,i.Extrovertido||0],r.introversion),a("infoProcessingChart",n.sensacion_intuicion,[n.Sensing,n.Intuicion],[i.Sensing||0,i.Intuición||0],r.sensacion),a("decisionMakingChart",n.pensamiento_sentimiento,[n.Pensamiento,n.Sentimiento],[i.Pensamiento||0,i.Sentimiento||0],r.pensamiento),a("organizationChart",n.juicio_percepcion,[n.Juicio,n.Percepcion],[i.Juicio||0,i.Percepción||0],r.juicio)}}}));
